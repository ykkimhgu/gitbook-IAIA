# Work Space

### 워크스페이스란 무엇인가?

ROS에서 \*\*워크스페이스(workspace)\*\*는 프로젝트를 저장하고 빌드하며 관리하는 작업 환경입니다. 워크스페이스는 여러 패키지를 포함하며, ROS 시스템의 기본적인 작업 단위를 제공합니다.

워크스페이스는 다음과 같은 디렉토리 구조를 가집니다:

1. **src**: ROS 패키지의 소스 코드가 저장되는 디렉토리.
2. **build**: 빌드된 결과물(중간 파일)이 저장되는 디렉토리.
3. **devel**: 실행 파일과 설정 파일 등이 저장되는 디렉토리로, 워크스페이스 내에서만 사용되는 개발 환경.



### 워크스페이스 생성 실습

#### 1. ROS 설치 확인

ROS가 정상적으로 설치되었는지 확인합니다. 아래 명령어로 `roscore`를 실행하여 ROS 마스터가 작동하는지 확인합니다:

```bash
roscore
```

정상적으로 실행된다면 터미널에 "started core service" 메시지가 출력됩니다.



#### 2. 워크스페이스 생성 및 초기화

워크스페이스를 생성하고 초기화하는 과정을 진행합니다:

```bash
mkdir -p ~/catkin_ws/src
cd ~/catkin_ws
catkin_make
source devel/setup.bash
```

* **mkdir -p \~/catkin\_ws/src**: `catkin_ws`라는 이름의 워크스페이스와 `src` 디렉토리를 생성.
* **catkin\_make**: 워크스페이스를 빌드하고 필요한 디렉토리를 초기화.
* **source devel/setup.bash**: ROS 환경 설정을 현재 터미널 세션에 반영.



#### 3. 워크스페이스 구조 확인

생성된 워크스페이스의 디렉토리 구조를 확인합니다:

```bash
ls ~/catkin_ws
```

출력 예시:

```bash
build  devel  src
```

각 디렉토리의 역할:

* **src**: 패키지 소스 코드 저장.
* **build**: 빌드 중 생성되는 중간 파일 저장.
* **devel**: 빌드 결과와 실행 파일 저장.



#### 4. 워크스페이스 확인

```bash
echo $ROS_PACKAGE_PATH
```

* ROS가 현재 워크스페이스를 인식하고 있는지 확인



### 환경 설정 파일의 역할

`source ~/catkin_ws/devel/setup.bash`는 워크스페이스의 설정 정보를 현재 터미널에 적용합니다. 이를 통해 ROS가 패키지와 실행 파일을 인식할 수 있게 됩니다. 터미널을 새로 열 때마다 이 명령을 실행해야 합니다.

만약, 터미널의 환경설정 파일인 `~/.bashrc` 파일에 해당 명령어를 추가한다면, 터미널을 새로 열 때마다 자동으로 ROS패키지를 자동으로 인식할 수 있도록 할 수 있습니다. 아래의 명령어를 터미널에 작성해주세요.

```bash
echo "source ~/catkin_ws/devel/setup.bash" >> ~/.bashrc
```

위 명령을 실행 후,  `~/.bashrc` 파일의 가장 하단에 "source ~/catkin_ws/devel/setup.bash" 명령이 작성된 것을 확인할 수 있습니다. (gedit 명령어를 통해 파일의 편집기를 실행할 수  있음)

```bash
gedit ~/.bashrc
```

편집창을 닫은 후, `source` 명령을 통해 `~/.bashrc` 파일의 변경사항이 반영되도록 해주세요.

```bash
source ~/.bashrc
```

`~/.bashrc` 파일에 적힌 터미널에 대한 환경설정이 모두 적용되었으며, 새 터미널을 열 때마다 ROS 패키지를 인식하도록 하는 작업은 자동으로 실행됩니다.



### 요약

워크스페이스는 ROS에서 프로젝트를 구성하고 관리하기 위한 기본 환경입니다. 워크스페이스 생성과 초기화를 통해 ROS 개발을 위한 준비를 완료할 수 있습니다. 이후 패키지를 생성하고 노드를 작성하며, ROS 시스템을 확장해 나갈 수 있습니다.
